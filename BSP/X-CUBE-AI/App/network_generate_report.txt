Neural Network Tools for STM32 v1.4.0 (AI tools v5.2.0)
Created date       : 2021-07-22 15:19:06
Parameters         : generate -m ./Models/modelfinal.tflite -o 20210722\X-CUBE-AI\App -w stm32ai_ws -n network -c 1

Exec/report summary (generate dur=2.52s err=0)
------------------------------------------------------------------------------------------------------------------------
model file         : D:\RT-ThreadStudio\RT-AK\RT-AK\rt_ai_tools\Models\modelfinal.tflite
type               : tflite (tflite) 
c_name             : network
compression        : None
quantize           : None
workspace dir      : D:\RT-ThreadStudio\RT-AK\RT-AK\rt_ai_tools\stm32ai_ws
output dir         : D:\RT-ThreadStudio\RT-AK\RT-AK\rt_ai_tools\20210722\X-CUBE-AI\App

model_name         : modelfinal
model_hash         : 7a2d09f6f15fefd58aee21870c885308
input              : input_2 [100 items, 400 B, ai_float, FLOAT32, (1, 1, 100)]
inputs (total)     : 400 B
output             : conv2d_7 [2304 items, 9.00 KiB, ai_float, FLOAT32, (48, 48, 1)]
outputs (total)    : 9.00 KiB
params #           : 557,953 items (559.50 KiB)
macc               : 22,413,409
weights (ro)       : 2,231,812 B (2.13 MiB) (289.54%) 
activations (rw)   : 368,640 B (360.00 KiB) 
ram (total)        : 378,256 B (369.39 KiB) = 368,640 + 400 + 9,216

------------------------------------------------------------------------------------------------------------------------
id  layer (type)          output shape      param #     connected to             macc           rom                
------------------------------------------------------------------------------------------------------------------------
0   input_2 (Input)       (100,)                                                                                   
    dense_0 (Dense)       (4608,)           465,408     input_2                  460,800        1,861,632          
    nl_0 (Nonlinearity)   (4608,)                       dense_0                  4,608                             
------------------------------------------------------------------------------------------------------------------------
1   reshape_1 (Reshape)   (6, 6, 128)                   nl_0                                                       
------------------------------------------------------------------------------------------------------------------------
2   upsample_2 (Upsample) (12, 12, 128)                 reshape_1                                                  
------------------------------------------------------------------------------------------------------------------------
3   conv2d_3 (Conv2D)     (12, 12, 64)      73,792      upsample_2               10,626,112     295,168            
    nl_3 (Nonlinearity)   (12, 12, 64)                  conv2d_3                                                   
------------------------------------------------------------------------------------------------------------------------
4   upsample_4 (Upsample) (24, 24, 64)                  nl_3                                                       
------------------------------------------------------------------------------------------------------------------------
5   conv2d_5 (Conv2D)     (24, 24, 32)      18,464      upsample_4               10,635,296     73,856             
    nl_5 (Nonlinearity)   (24, 24, 32)                  conv2d_5                                                   
------------------------------------------------------------------------------------------------------------------------
6   upsample_6 (Upsample) (48, 48, 32)                  nl_5                                                       
------------------------------------------------------------------------------------------------------------------------
7   conv2d_7 (Conv2D)     (48, 48, 1)       289         upsample_6               686,593        1,156              
------------------------------------------------------------------------------------------------------------------------
8   nl_8 (Nonlinearity)   (48, 48, 1)                   conv2d_7                                                   
------------------------------------------------------------------------------------------------------------------------
modelfinal p=557953(559.50 KBytes) macc=22413409 rom=2.13 MBytes (289.54%) ram=360.00 KiB io_ram=9.39 KiB



Generated C-graph summary
------------------------------------------------------------------------------------------------------------------------
model name         : modelfinal
c-name             : network
c-node #           : 8
c-array #          : 17
activations size   : 368640
weights size       : 2231812
macc               : 22413409
inputs             : ['input_2_output_array']
outputs            : ['conv2d_7_output_array']


C-Arrays (17)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_array)     item/size           mem-pool     c-type       fmt    comment            
------------------------------------------------------------------------------------------------------------------------
0     conv2d_7_bias      1/4                 weights      const float  float                     
1     conv2d_7_weights   288/1152            weights      const float  float                     
2     conv2d_5_bias      32/128              weights      const float  float                     
3     conv2d_5_weights   18432/73728         weights      const float  float                     
4     conv2d_3_bias      64/256              weights      const float  float                     
5     conv2d_3_weights   73728/294912        weights      const float  float                     
6     dense_0_bias       4608/18432          weights      const float  float                     
7     dense_0_weights    460800/1843200      weights      const float  float                     
8     input_2_output     100/400             user         float        float  /input             
9     dense_0_output     4608/18432          activations  float        float                     
10    nl_0_output        4608/18432          activations  float        float                     
11    upsample_2_output  18432/73728         activations  float        float                     
12    conv2d_3_output    9216/36864          activations  float        float                     
13    upsample_4_output  36864/147456        activations  float        float                     
14    conv2d_5_output    18432/73728         activations  float        float                     
15    upsample_6_output  73728/294912        activations  float        float                     
16    conv2d_7_output    2304/9216           user         float        float  /output            
------------------------------------------------------------------------------------------------------------------------


C-Layers (8)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_layer)  id  type      macc        rom         tensors               shape (array id)                       
------------------------------------------------------------------------------------------------------------------------
0     dense_0         0   dense     460800      1861632     I: input_2_output     [1, 1, 1, 100] (8)                     
                                                            W: dense_0_weights                                           
                                                            W: dense_0_bias                                              
                                                            O: dense_0_output     [1, 1, 1, 4608] (9)                    
------------------------------------------------------------------------------------------------------------------------
1     nl_0            0   nl        4608        0           I: dense_0_output     [1, 1, 1, 4608] (9)                    
                                                            O: nl_0_output        [1, 1, 1, 4608] (10)                   
------------------------------------------------------------------------------------------------------------------------
2     upsample_2      2   upsample  0           0           I: nl_0_output0       [1, 6, 6, 128] (10)                    
                                                            O: upsample_2_output  [1, 12, 12, 128] (11)                  
------------------------------------------------------------------------------------------------------------------------
3     conv2d_3        3   conv2d    10626112    295168      I: upsample_2_output  [1, 12, 12, 128] (11)                  
                                                            W: conv2d_3_weights                                          
                                                            W: conv2d_3_bias                                             
                                                            O: conv2d_3_output    [1, 12, 12, 64] (12)                   
------------------------------------------------------------------------------------------------------------------------
4     upsample_4      4   upsample  0           0           I: conv2d_3_output    [1, 12, 12, 64] (12)                   
                                                            O: upsample_4_output  [1, 24, 24, 64] (13)                   
------------------------------------------------------------------------------------------------------------------------
5     conv2d_5        5   conv2d    10635296    73856       I: upsample_4_output  [1, 24, 24, 64] (13)                   
                                                            W: conv2d_5_weights                                          
                                                            W: conv2d_5_bias                                             
                                                            O: conv2d_5_output    [1, 24, 24, 32] (14)                   
------------------------------------------------------------------------------------------------------------------------
6     upsample_6      6   upsample  0           0           I: conv2d_5_output    [1, 24, 24, 32] (14)                   
                                                            O: upsample_6_output  [1, 48, 48, 32] (15)                   
------------------------------------------------------------------------------------------------------------------------
7     conv2d_7        7   conv2d    686593      1156        I: upsample_6_output  [1, 48, 48, 32] (15)                   
                                                            W: conv2d_7_weights                                          
                                                            W: conv2d_7_bias                                             
                                                            O: conv2d_7_output    [1, 48, 48, 1] (16)                    
------------------------------------------------------------------------------------------------------------------------


 
Complexity per-layer - macc=22,413,409 rom=2,231,812
------------------------------------------------------------------------------------------------------------------------
id      layer (type)          macc                                    rom                                    
------------------------------------------------------------------------------------------------------------------------
0       dense_0 (Dense)       ||                                2.1%  |||||||||||||||||||||||||||||||  83.4% 
0       nl_0 (Nonlinearity)   |                                 0.0%  |                                 0.0% 
3       conv2d_3 (Conv2D)     ||||||||||||||||||||||||||||||   47.4%  |||||                            13.2% 
5       conv2d_5 (Conv2D)     |||||||||||||||||||||||||||||||  47.5%  ||                                3.3% 
7       conv2d_7 (Conv2D)     ||                                3.1%  |                                 0.1% 
------------------------------------------------------------------------------------------------------------------------


Evaluation report (summary)
---------------------------------------------
NOT EVALUATED
